---
title: ""
author: ""
date: ""
output: 
  html_document:
    toc: yes
    toc_float: yes
    toc_depth: 6
    css: "styles.css"
---
:::{#header}
<img src="logo_liggande_platta_farg.png" height="50" width="100" margin="0 auto"/>
:::

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# lista_figurer=list()
# # Om man vill uppdatera figurerna sätter man skapa_lista till TRUE. Skapa_fil styr om man vill skapa en png-fil, vilket normalt sett är fallet. Notera att skapa_lista bara skall användas när figurer behöver uppdateras. Tar betydligt mycket längre tid.
# 
# skapa_lista=FALSE
# Skapa_fil=FALSE
# i=1
# 
# #test_lank<-here("Diagram","befolkningsforandring_20_64.png")
# 
# if(skapa_lista==TRUE){
# source(here("master_kompetens.R"), encoding = "utf-8", echo = FALSE)
# lista_figurer=c(lista_figurer,hamta_figurer(skapa_fil=Skapa_fil))
#}
# Nödvändiga paket
if (!require("pacman")) install.packages("pacman")
p_load(here,
       tidyverse,
       openxlsx)

# Funktioner som behövs (hämtas från Git-Hub)
source("https://raw.githubusercontent.com/FaluPeppe/func/main/func_SkapaDiagram.R")
source("https://raw.githubusercontent.com/FaluPeppe/func/main/func_API.R")

befolkning_forandring_df <- read.xlsx("G:/skript/projekt/data/kompetensforsorjning/befolkning_prognos.xlsx")
sysselsatta_90_df <- read.xlsx("G:/skript/projekt/data/kompetensforsorjning/forvarvsarbetande_90.xlsx")
utbildning_85_df <- read.xlsx("G:/skript/projekt/data/kompetensforsorjning/utbildningsniva_85.xlsx")
utbildning_senastear_df <- read.xlsx("G:/skript/projekt/data/kompetensforsorjning/utbildningsniva_senastear.xlsx")
arbetslosa_08_df <- read.xlsx("G:/skript/projekt/data/kompetensforsorjning/arbetslöshet_08_senastear_bearbetad.xlsx")
forvarvsarbetande_bransch <- read.xlsx("G:/skript/projekt/data/kompetensforsorjning/forvarvsarbetande_bransch.xlsx")
```
# Kompetensförsörjning i Dalarna
<p style = "font-size:12px">
<i>Skapad av: Samhällsanalys, Region Dalarna<br>
Senast uppdaterad: `r Sys.Date()`</i>
</p>


## 2 Bakgrund och teori

```{r, echo=FALSE, message = FALSE, warning = FALSE,include=FALSE}

diagram_capt <- "Källa: SCB:s öppna statistikdatabas\nBearbetning: Samhällsanalys, Region Dalarna\nDiagramförklaring: 2031 är prognos, övriga historisk data."
 # Det första datasettet - innehåller åldersgrupper men inte totalt för alla
 
# Summerar på år och aldersgrupper
 befolkning_forandring_df_sum <- befolkning_forandring_df %>%
   group_by(år,aldersgrupper) %>%
    summarize(`Folkmängd`=sum(`Folkmängd`))

 # Använder en faktorvariabel för att styra ordningen på åldersgrupper
 befolkning_forandring_df_sum$aldersgrupper <- factor(befolkning_forandring_df_sum$aldersgrupper, levels = c("totalt","0-19 år","20-64 år","65-79 år","80+ år"))
 
   diagram_titel <- "Dalarnas befolkning uppdelat på åldersgrupper"
   diagram_typ <- "befolkning_forandring"
   diagramfil <- "befolkning_forandring.png"

   befolkning_for <- SkapaStapelDiagram(skickad_df = befolkning_forandring_df_sum %>%
                                          filter(aldersgrupper!="totalt"),
                                        skickad_x_var = "aldersgrupper",
                                        skickad_y_var = "Folkmängd",
                                        skickad_x_grupp = "år",
                                        manual_x_axis_text_vjust=0.7,
                                        manual_x_axis_text_hjust=0.3,
                                        manual_color = diagramfarger("rus_sex"),
                                        x_axis_lutning = 0,
                                        diagram_titel = diagram_titel,
                                        diagram_capt = diagram_capt,
                                        manual_x_axis_title = "Åldersgrupper",
                                        berakna_index = FALSE,
                                        output_mapp = "",
                                        filnamn_diagram = diagramfil,
                                        skriv_till_diagramfil =FALSE)

```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 1"}
   befolkning_for
```

```{r, echo=FALSE, message = FALSE, warning = FALSE, include=FALSE}
diagram_capt <- "Källa: RAMS i SCB:s öppna statistikdatabas\nBearbetning: Samhällsanalys, Region Dalarna\nDiagramförklaring: Branschgruppering baserad på SNI2002 och SNI92"

# Gör om år till en faktorvariabel för utbildningsnivå_balans. Detta för att kunna bestämma vilken ordning staplarna för de olika åren kommer i diagrammet
max_ar <- max(sysselsatta_90_df$år)

#sysselsatta_90_df$år <- factor(sysselsatta_90_df$år, levels = c(max_ar,"2010","2000","1990"))

sysselsatta_90_df$Näringsgren <- stringr::str_to_sentence(sysselsatta_90_df$Näringsgren)

sysselsatta_90_df$Näringsgren <- str_wrap(sysselsatta_90_df$Näringsgren,40)

diagram_titel <- paste0("Förvärvsarbetande (16+ år) i Dalarna ")
diagramfil <- "per_bransch_tidsserie.png"

fig_forv_90 <- SkapaStapelDiagram(skickad_df = sysselsatta_90_df %>%
                                   filter(år%in%c("1990","2000","2010",max_ar)),
                                 skickad_x_var = "Näringsgren",
                                 skickad_y_var = "antal",
                                 skickad_x_grupp = "år",
                                 manual_x_axis_text_vjust=1,
                                 manual_x_axis_text_hjust=1,
                                 manual_color = diagramfarger("rus_sex"),
                                 x_axis_sort_value = TRUE,
                                 vand_sortering = TRUE,
                                 stodlinjer_avrunda_fem = TRUE,
                                 x_axis_sort_grp = 4,
                                 x_axis_lutning = 45,
                                 diagram_titel = diagram_titel,
                                 diagram_capt = diagram_capt,
                                 manual_y_axis_title = "",
                                 output_mapp = "",
                                 filnamn_diagram = diagramfil,
                                 skriv_till_diagramfil = FALSE)

knitr::include_graphics(here("Diagram","per_bransch_tidsserie.png"))
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 2"}
fig_forv_90
```
<br>
<br>
<br>
```{r, echo=FALSE, message = FALSE, warning = FALSE, fig.width=10, fig.align='Center',fig.cap="Figur 3"}
knitr::include_graphics("G:/Samhällsanalys/Projekt och uppdrag/Kompetensförsörjning/Branschindelning/Visualisering/Dagbefolkning/2020/Branschstruktur_Dalarnas_kommuner_2020.png")
```
<br>
<br>
<br>
```{r, echo=FALSE,message = FALSE, warning = FALSE, fig.width=10, fig.align='Center',fig.cap="Figur 3"}
knitr::include_graphics("G:/Samhällsanalys/Projekt och uppdrag/Kompetensförsörjning/Branschindelning/Visualisering/Dagbefolkning/2020/Dalarna_kon_dagbef_2020.png")
```
<br>
<br>
<br>
```{r, echo=FALSE, message = FALSE, warning = FALSE}
diagram_capt <- "Källa: SCB:s öppna statistikdatabas.\nBearbetning: Samhällsanalys, Region Dalarna."

# Tar bort uppgift saknas och beräknar hur stor andel som har en viss utbildning
utbildning_85_utskrift<-utbildning_85_df %>%
  filter(utb_niva!="Uppgift saknas") %>%
    group_by(år,region,kön,utb_niva) %>%
      summarize(antal=sum(Befolkning)) %>%
        mutate(andel=(antal/sum(antal))*100)

diagramtitel <- paste0("Andel av befolkningen (25-64 år) med minst 3 års eftergymnasial utbildning i ",unique(utbildning_85_utskrift$region))
diagramtitel <- str_wrap(diagramtitel)
diagramfilnamn <- paste0("utbildningsniva_85_21_kon.png")

utb_85_fig <- SkapaStapelDiagram(skickad_df =utbildning_85_utskrift %>%
                              filter(år%in%c("1985","1990","1995","2000","2005","2010","2015",max(utbildning_85_utskrift$år))) %>%
                                filter(utb_niva=="Eftergymnasial utbildning, 3 år eller mer"),
                             skickad_x_var = "år",
                             skickad_y_var = "andel",
                             skickad_x_grupp = "kön",
                             manual_color = diagramfarger("kon"),
                             diagram_titel = diagramtitel,
                             diagram_capt =  diagram_capt,
                             x_axis_lutning = 0,
                             stodlinjer_avrunda_fem = TRUE,
                             manual_y_axis_title="procent",
                             output_mapp = "",
                             filnamn_diagram = diagramfilnamn,
                             skriv_till_diagramfil = FALSE)
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 6"}
utb_85_fig
```

```{r, echo=FALSE, message = FALSE, warning = FALSE}
# Ta bort s och län i länsnamn
utbildning_senastear_df$region <- skapa_kortnamn_lan(utbildning_senastear_df$region,byt_ut_riket_mot_sverige = TRUE)

# Tar bort uppgift saknas och beräknar hur stor andel som har en viss utbildning - ej uppdelat på kön
utbildning_senastear_df <- utbildning_senastear_df %>%
  filter(utb_niva!="Uppgift saknas") %>%
    group_by(år,region,utb_niva) %>%
      summarize(antal = sum(Befolkning)) %>%
        mutate(andel = (antal/sum(antal))*100)

diagramtitel <- paste0("Andel av befolkningen (25-64 år) med minst 3 års eftergymnasial utbildning ",max(utbildning_senastear_df$år))
diagramtitel <- str_wrap(diagramtitel)
diagramfilnamn <- paste0("utbildningsniva_jmf_lan.png")

utb_senastear_fig <- SkapaStapelDiagram(skickad_df = utbildning_senastear_df %>%
                                         filter(år == max(år),utb_niva == "Eftergymnasial utbildning, 3 år eller mer") %>% 
                                          mutate(fokus = ifelse(region == "Dalarna",1,
                                                                 ifelse(region == "Sverige",2,0))),
                                       skickad_x_var = "region",
                                       skickad_y_var = "andel",
                                       manual_x_axis_text_vjust=1,
                                       manual_x_axis_text_hjust=1,
                                       manual_color = diagramfarger("rus_tre_fokus"),
                                       diagram_titel = diagramtitel,
                                       diagram_capt =  diagram_capt,
                                       x_axis_sort_value = TRUE,
                                       x_axis_lutning = 45,
                                       x_var_fokus = "fokus",
                                       manual_y_axis_title = "procent",
                                       berakna_index = FALSE,
                                       output_mapp = "",
                                       filnamn_diagram = diagramfilnamn,
                                       skriv_till_diagramfil = FALSE)

```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 7"}
utb_senastear_fig
```

```{r, echo=FALSE, message = FALSE, warning = FALSE}
diagram_capt <- "Källa: Arbetsförmedlingen.\nBearbetning: Samhällsanalys, Region Dalarna.\nDiagramförklaring: Månadsdata. Diagrammet visar medelvärdet för året"

diagramtitel <- paste0("Arbetslöshet i Dalarna och Sverige")
diagramfilnamn <- paste0("arbetsloshet_08_senastear.png")

arb_08_fig <- SkapaStapelDiagram(skickad_df =arbetslosa_08_df ,
                                 skickad_x_var = "Ar",
                                 skickad_y_var = "Arbetslöshet",
                                 skickad_x_grupp = "Region",
                                 manual_x_axis_text_vjust=1,
                                 manual_x_axis_text_hjust=1,
                                 manual_color = diagramfarger("rus_sex"),
                                 diagram_titel = diagramtitel,
                                 diagram_capt =  diagram_capt,
                                 x_axis_lutning = 45,
                                 manual_y_axis_title = "procent",
                                 berakna_index = FALSE,
                                 output_mapp = "",
                                 filnamn_diagram = diagramfilnamn,
                                 skriv_till_diagramfil = FALSE)
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 7"}
arb_08_fig
```

## 3 Efterfrågan, nu och framledes
### Förvärvsarbetande
```{r, echo=FALSE, message = FALSE, warning = FALSE}
diagram_capt <- "Källa: SCB:s öppna statistikdatabas.\nBearbetning: Samhällsanalys, Region Dalarna.\nDiagramförklaring: 16-74 år"

forvarvsarbetande_bransch$andel <- (forvarvsarbetande_bransch$andel)*100

diagramtitel <- paste0("Antal förvärvsarbetande per bransch i Dalarna år ",unique(forvarvsarbetande_bransch$år))
diagramfil <- "forvarvsarbetande_bransch.png"

forvarvsarbetande_kon_fig <- SkapaStapelDiagram(skickad_df <- forvarvsarbetande_bransch %>%
                                                 filter(region == "Dalarna"), 
                                               skickad_x_var = "naringsgren", 
                                               skickad_y_var = "antal", 
                                               skickad_x_grupp = "kön",
                                               diagram_liggande=FALSE,
                                               manual_x_axis_text_vjust=1,
                                               manual_x_axis_text_hjust=1,
                                               x_axis_lutning = 45,
                                               x_axis_sort_value=TRUE,
                                               manual_color = diagramfarger("kon"),
                                               stodlinjer_avrunda_fem = TRUE,
                                               diagram_titel = diagramtitel,
                                               diagram_capt =  diagram_capt,
                                               facet_legend_bottom=TRUE,
                                               berakna_index = FALSE,
                                               output_mapp = "",
                                               filnamn_diagram = diagramfil,
                                               skriv_till_diagramfil = FALSE)
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 7"}
forvarvsarbetande_kon_fig
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 9", include = FALSE}
#lista_figurer$antal_sysselsatta_proc_min_max_ar
knitr::include_graphics(here("Diagram","antal_sysselsatta_proc_min_max_ar.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 9", include = FALSE}
#lista_figurer$antal_sysselsatta_proc_min_max_ar
knitr::include_graphics(here("Diagram","antal_sysselsatta_proc_min_max_ar_ejsun.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 10",include = FALSE}
#lista_figurer$antal_sysselsatta_proc_min_max_ar
knitr::include_graphics(here("Diagram","antal_forvarvsarbetande_bransch_97.png"))
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 10",include = FALSE}
diagram_capt <- "Källa: RAMS i SCB:s öppna statistikdatabas\nBearbetning: Samhällsanalys, Region Dalarna\nDiagramförklaring: Branschgruppering baserad på SNI2002 och SNI92"

# Beräknar förändring in antalet anställda från 1990 till senaste år
sysselsatta_df_forandring <- sysselsatta_90_df %>% 
  filter(år %in% c(min(år),max(år))) %>% 
    group_by(region,Näringsgren) %>% 
      mutate(skillnad = last(antal)-first(antal))  
        
diagram_titel <- paste0("Förändring av antalet förvärvsarbetande (16-74) år från år ", min(sysselsatta_df_forandring$år), " till ", max(sysselsatta_df_forandring$år))
diagramfil <- "forvarvsarbetande_forandring.png"

forv_forandring_fig <- SkapaStapelDiagram(skickad_df = sysselsatta_df_forandring %>% 
                                           filter(år == max(år),Näringsgren != "näringsgren okänd"), 
                                         skickad_x_var = "Näringsgren", 
                                         skickad_y_var = "skillnad",
                                         manual_color = diagramfarger("rus_sex")[1],
                                         diagram_titel = diagram_titel,
                                         x_axis_sort_value = TRUE,
                                         x_axis_lutning = 90,
                                         diagram_capt = diagram_capt,
                                         diagram_liggande = TRUE,
                                         diagram_facet = FALSE,
                                         geom_position_stack = TRUE,
                                         berakna_index = FALSE,
                                         output_mapp = "",
                                         filnamn_diagram = diagramfil,
                                         skriv_till_diagramfil = FALSE)

```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 7"}
forv_forandring_fig
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 11"}
 diagram_capt <- "Källa: Regionala utbildnings och arbetsmarknadsprognoser, SCB\nBearbetning: Samhällsanalys, Region Dalarna"
#lista_figurer$antal_sysselsatta_proc_min_max_ar
knitr::include_graphics(here("Diagram","prognos_branscher.png"))
```

### Kompetenskrav

```{r, echo=FALSE, fig.width=10,fig.align='Left',fig.cap="Figur 12"}
knitr::include_graphics(here("Diagram","_kompetenskrav_lan.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 13"}
#lista_figurer$`_kompetenskrav_lan`
knitr::include_graphics(here("Diagram","_kompetenskrav_bransch.png"))
```
### Utbildning och ålder

```{r, echo=FALSE, fig.width=10,fig.align='Left',fig.cap="Figur 14"}
#lista_figurer$`_utbildningsniva_bransch`
knitr::include_graphics(here("Diagram","_utbildningsniva_bransch.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 15"}
#lista_figurer$`_aldersniva_bransch`
knitr::include_graphics(here("Diagram","_aldersniva_bransch.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 16"}
#lista_figurer$`_aldersniva_bransch`
knitr::include_graphics(here("Diagram","_aldersniva_bransch_antal.png"))
```
## 4 Utbud i Dalarnas län
### Befolkning och pendling
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 17"}
knitr::include_graphics(here("Diagram","befolkningsforandring_20_64.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 18"}
knitr::include_graphics(here("Diagram","fodelseregion_tidsserie.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 19"}
knitr::include_graphics(here("Diagram","pendlingsintensitet.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 20"}
knitr::include_graphics(here("Diagram","pendlingsintensitet_kommun.png"))
```
### Utbildningsnivå
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 21"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","fodelseregion_utbildning.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 23", include = FALSE}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","utbildning_inriktning_kon.png"))
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 22"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","forgymnasial_alder_kon.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 23"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","tillg_eft_prognos_utbniva.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 24"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","balans_tillg_eft_utbniva_prognos.png"))
```

### Gymnasiet, högskolan och YH
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 27", include = FALSE}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","gymnasieantagning_alla.png"))
```

```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 25"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","gymnasieantagning_alla_Peter.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 26"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","gymnasieantagning_kon_Peter.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 27"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","gymnasieantagning_fleraar_Peter.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 28"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","gymnasieantagna_prognos.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 29"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","hogskoleexamen_alla.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 30"}
knitr::include_graphics(here("Diagram","hogskoleexamen_prognos.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 31"}
knitr::include_graphics(here("Diagram","yh_bransch.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 32"}
knitr::include_graphics(here("Diagram","yh_inriktning.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 36", include = FALSE}
knitr::include_graphics(here("Diagram","yrkeshogskoleexamen_prognos.png"))
```
## 5 Matchning i Dalarnas län
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 33"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","Sysselsättningsgrad_lan.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 34"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","Sysselsättningsgrad_kommun.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 35"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","matchning_lan.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 36"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","matchning_bakgrund.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 37"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","kompetensbrist.png"))
```

## 6 Utbildningsområden och prognoser
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 38"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","_utbildningsgrupp_syss.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 39"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","Andel_matchade_yrken_20-64 år_Dalarna53B_53R_55A_55C_55H.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 40"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","_aldersniva_utb_grupp_bygg.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 41"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","_konsfordelning_utb_grupp_bygg.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 46", include = FALSE}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","_utbildningsgrupp_flode.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 42"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","balans_tillg_eft_prognos.png"))
```
<br>
<br>
<br>
```{r, echo=FALSE, fig.width=10, fig.align='Left',fig.cap="Figur 43"}
#lista_figurer$befolkningsforandring_20_64
knitr::include_graphics(here("Diagram","tillg_eft_prognos.png"))
```
